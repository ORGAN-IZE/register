{% extends 'base.html' %}
{% load staticfiles %}
{% load bootstrap3 %}

{% block head %}
{{ wizard.form.media }}
{% endblock %}

{% block content %}
<div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

    <p>{{ title }}</p>

    <p>Step {{ wizard.steps.step1 }} of {{ wizard.steps.count }}</p>

    <p>
        Step:
        {% for n in wizard.steps.all %}
            {% if n == wizard.steps.current %}
                <b>{{ n }}</b>
            {% else %}
                {{ n }}
            {% endif %}
        {% endfor %}
    </p>

    <form role="form" action="." method="post">
        {% csrf_token %}

        {{ wizard.management_form }}
        {% if wizard.form.forms %}
            {{ wizard.form.management_form }}
            {% for form in wizard.form.forms %}
                {% bootstrap_form form %}
            {% endfor %}
        {% else %}
            {% if wizard.form.non_field_errors %}
                {% bootstrap_form_errors wizard.form.non_field_errors %}
            {% endif %}

            {% for fieldset in wizard.form.fieldsets %}
                <fieldset class="{{ fieldset.classes }}">
                {% if fieldset.legend %}
                    <legend>{{ fieldset.legend }}</legend>
                {% endif %}
                {% if fieldset.description %}
                    <p class="description">{{ fieldset.description }}</p>
                {% endif %}

                {% for field in fieldset %}
                    {% if field.is_hidden %}
                        {{ field }}
                    {% else %}
                        {% bootstrap_field field %}
                    {% endif %}
                {% endfor %}
                </fieldset>
            {% endfor %}
        {% endif %}


        {% buttons %}
            <button type="submit" class="btn btn-primary">
                Continue
            </button>
        {% endbuttons %}
    </form>

    <p>{{ state_name }}</p>

    </div>
</div>
{% endblock %}
